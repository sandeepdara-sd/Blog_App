{"ast":null,"code":"import{Button,TextField,Typography}from'@mui/material';import{Box}from'@mui/system';import axios from'axios';import React,{useState}from'react';import{useDispatch}from'react-redux';import{Link,useNavigate}from'react-router-dom';import{authActions}from'../store';import{serverURL}from'../helper/Helper';import Swal from'sweetalert';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const Signup=()=>{const dispatch=useDispatch();const navigate=useNavigate();const[input,setInput]=useState({name:\"\",email:\"\",password:\"\"});const handleChange=e=>{setInput(prevState=>({...prevState,[e.target.name]:e.target.value}));};const sendRequest=async()=>{try{const res=await axios.post(\"\".concat(serverURL,\"/api/user/signup\"),{name:input.name,email:input.email,password:input.password});const data=res.data;return data;}catch(err){console.log(err);Swal(\"Error\",err.response.data.message||\"Something went wrong\",\"error\");}};const handleSubmit=e=>{e.preventDefault();console.log(input);sendRequest().then(data=>{if(data&&data.user){localStorage.setItem(\"userId\",data.user._id);dispatch(authActions.login());navigate(\"/blogs\");Swal(\"Success\",\"Signup successful\",\"success\");}}).catch(err=>console.log(err));};return/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(\"form\",{onSubmit:handleSubmit,children:/*#__PURE__*/_jsxs(Box,{display:\"flex\",flexDirection:\"column\",justifyContent:\"center\",alignItems:\"center\",boxShadow:\"10px 10px 20px #ccc\",margin:\"auto\",marginTop:5,borderRadius:5,maxWidth:400,p:3,backgroundColor:\"white\",children:[/*#__PURE__*/_jsx(Typography,{variant:\"h2\",padding:3,textAlign:\"center\",children:\"SignUp\"}),/*#__PURE__*/_jsx(TextField,{required:true,name:\"name\",type:\"text\",onChange:handleChange,value:input.name,margin:\"normal\",placeholder:\"Name\",fullWidth:true}),/*#__PURE__*/_jsx(TextField,{required:true,name:\"email\",type:\"email\",onChange:handleChange,value:input.email,margin:\"normal\",placeholder:\"Email\",fullWidth:true}),/*#__PURE__*/_jsx(TextField,{required:true,name:\"password\",type:\"password\",onChange:handleChange,value:input.password,margin:\"normal\",placeholder:\"Password\",fullWidth:true}),/*#__PURE__*/_jsx(Button,{type:\"submit\",color:\"warning\",sx:{borderRadius:3,marginTop:3},variant:\"contained\",children:\"SignUp\"}),/*#__PURE__*/_jsx(Button,{sx:{marginTop:3,borderRadius:3},LinkComponent:Link,to:\"/auth\",children:\"Change to Login\"})]})})});};export default Signup;","map":{"version":3,"names":["Button","TextField","Typography","Box","axios","React","useState","useDispatch","Link","useNavigate","authActions","serverURL","Swal","jsx","_jsx","jsxs","_jsxs","Signup","dispatch","navigate","input","setInput","name","email","password","handleChange","e","prevState","target","value","sendRequest","res","post","concat","data","err","console","log","response","message","handleSubmit","preventDefault","then","user","localStorage","setItem","_id","login","catch","children","onSubmit","display","flexDirection","justifyContent","alignItems","boxShadow","margin","marginTop","borderRadius","maxWidth","p","backgroundColor","variant","padding","textAlign","required","type","onChange","placeholder","fullWidth","color","sx","LinkComponent","to"],"sources":["D:/updated_blog/Blog_App/frontend/src/components/Signup.js"],"sourcesContent":["import { Button, TextField, Typography } from '@mui/material';\nimport { Box } from '@mui/system';\nimport axios from 'axios';\nimport React, { useState } from 'react';\nimport { useDispatch } from 'react-redux';\nimport { Link, useNavigate } from 'react-router-dom';\nimport { authActions } from '../store';\nimport { serverURL } from '../helper/Helper';\nimport Swal from 'sweetalert';\n\nconst Signup = () => {\n  const dispatch = useDispatch();\n  const navigate = useNavigate();\n  const [input, setInput] = useState({\n    name: \"\",\n    email: \"\",\n    password: \"\"\n  });\n\n  const handleChange = (e) => {\n    setInput((prevState) => ({\n      ...prevState,\n      [e.target.name]: e.target.value\n    }));\n  };\n\n  const sendRequest = async () => {\n    try {\n      const res = await axios.post(`${serverURL}/api/user/signup`, {\n        name: input.name,\n        email: input.email,\n        password: input.password\n      });\n      const data = res.data;\n      return data;\n    } catch (err) {\n      console.log(err);\n      Swal(\"Error\", err.response.data.message || \"Something went wrong\", \"error\");\n    }\n  };\n\n  const handleSubmit = (e) => {\n    e.preventDefault();\n    console.log(input);\n    sendRequest().then((data) => {\n      if (data && data.user) {\n        localStorage.setItem(\"userId\", data.user._id);\n        dispatch(authActions.login());\n        navigate(\"/blogs\");\n        Swal(\"Success\", \"Signup successful\", \"success\");\n      }\n    }).catch((err) => console.log(err));\n  };\n\n  return (\n    <div>\n      <form onSubmit={handleSubmit}>\n        <Box\n          display=\"flex\"\n          flexDirection=\"column\"\n          justifyContent=\"center\"\n          alignItems=\"center\"\n          boxShadow=\"10px 10px 20px #ccc\"\n          margin=\"auto\"\n          marginTop={5}\n          borderRadius={5}\n          maxWidth={400}  \n          p={3}\n          backgroundColor=\"white\"\n        >\n          <Typography variant=\"h2\" padding={3} textAlign=\"center\">SignUp</Typography>\n          <TextField required name=\"name\" type=\"text\" onChange={handleChange} value={input.name} margin=\"normal\" placeholder=\"Name\" fullWidth />\n          <TextField required name=\"email\" type=\"email\" onChange={handleChange} value={input.email} margin=\"normal\" placeholder=\"Email\" fullWidth />\n          <TextField required name=\"password\" type=\"password\" onChange={handleChange} value={input.password} margin=\"normal\" placeholder=\"Password\" fullWidth />\n          <Button type=\"submit\" color=\"warning\" sx={{ borderRadius: 3, marginTop: 3 }} variant=\"contained\">SignUp</Button>\n          <Button sx={{ marginTop: 3, borderRadius: 3 }} LinkComponent={Link} to=\"/auth\">Change to Login</Button>\n        </Box>\n      </form>\n    </div>\n  );\n};\n\nexport default Signup;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}